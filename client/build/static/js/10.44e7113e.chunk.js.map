{"version":3,"sources":["../../../../../packages/miq-hrmjs/src/index.jsx"],"names":["EmployeeRoutes","lazy","DepartmentRoutes","AdminNavLinks","company","props","url","addForwardSlash","match","className","exact","to","label","requiredPerms","slug","HrmRoutes","path","useContext","SharedDataCtx","title","name","actions","component","CompanyEditView","CompanyCreateView"],"mappings":"qRAWMA,EAAiBC,gBAAK,kBAAM,kCAC5BC,EAAmBD,gBAAK,kBAAM,kCAE9BE,EAAgB,SAAC,GAAgC,IAAD,IAA7BC,eAA6B,MAAnB,GAAmB,EAAZC,EAAY,iBAC9CC,EAAMC,YAAgBF,EAAMG,MAAMF,KACxC,OACE,sBAAKG,UAAU,SAAf,UACE,cAAC,IAAD,CACEC,OAAK,EACLC,GAAIL,EACJM,MAAM,UACNC,cAAe,CAAC,0BAChBJ,UAAU,yBAEZ,cAAC,IAAD,CACEE,GAAE,UAAKL,GAAL,OAAWF,EAAQU,KAAnB,eACFF,MAAM,YACNC,cAAe,CAAC,yBAChBJ,UAAU,yBAEZ,cAAC,IAAD,CACEE,GAAE,UAAKL,GAAL,OAAWF,EAAQU,KAAnB,iBACFF,MAAM,cACNC,cAAe,CAAC,2BAChBJ,UAAU,wBAMH,SAASM,EAAUV,GAChC,IAAQW,EAASX,EAAMG,MAAfQ,KACAZ,EAAYa,qBAAWC,KAAvBd,QAER,OAAKA,EAKH,cAAC,IAAD,CACEe,MAAO,sBAAMV,UAAU,oBAAhB,SAAqCL,EAAQgB,OACpDC,QAAS,cAAClB,EAAD,2BAAmBE,GAAnB,IAAgCD,aAF3C,SAIE,eAAC,IAAD,WACE,cAAC,IAAD,CACEY,KAAI,UAAKA,EAAL,wBACJM,UAAWtB,EACXa,cAAe,CAAC,2BAElB,cAAC,IAAD,CACEG,KAAI,UAAKA,EAAL,0BACJM,UAAWpB,EACXW,cAAe,CAAC,6BAElB,cAAC,IAAD,CAAYG,KAAMA,EAAMM,UAAWC,EAAiBV,cAAe,CAAC,iCAnBjE,cAACW,EAAD,eAAuBnB,IA6BlC,IAAMmB,EAAoB,SAACnB,GACzB,OAAO,cAAC,IAAD,CAAWc,MAAM,iBAGpBI,EAAkB,SAAClB,GACHY,qBAAWC,KAAvBd,QAER,OACE,cAAC,IAAD,UACE,sBAAKK,UAAU,GAAf,UACE,qBAAKA,UAAU,GAAf,0BACA,qBAAKA,UAAU,qBAAf","file":"static/js/10.44e7113e.chunk.js","sourcesContent":["import { lazy, Suspense, useContext } from 'react';\nimport { Switch } from 'react-router-dom';\n\nimport { SharedDataCtx } from '@miq/contexts';\nimport { Loading } from '@miq/components';\n\nimport { addForwardSlash } from '@miq/utils';\nimport { AdminRoute, AdminView, AdminNavLink } from '@miq/adminjs';\n\nimport './index.scss';\n\nconst EmployeeRoutes = lazy(() => import('./employee'));\nconst DepartmentRoutes = lazy(() => import('./department'));\n\nconst AdminNavLinks = ({ company = {}, ...props }) => {\n  const url = addForwardSlash(props.match.url);\n  return (\n    <div className=\"d-flex\">\n      <AdminNavLink\n        exact\n        to={url}\n        label=\"Profile\"\n        requiredPerms={['miq_hrm.change_company']}\n        className=\"btn-secondary-2 me-1\"\n      />\n      <AdminNavLink\n        to={`${url}${company.slug}/employees/`}\n        label=\"Employees\"\n        requiredPerms={['miq_hrm.view_employee']}\n        className=\"btn-secondary-2 me-1\"\n      />\n      <AdminNavLink\n        to={`${url}${company.slug}/departments/`}\n        label=\"Departments\"\n        requiredPerms={['miq_hrm.view_department']}\n        className=\"btn-secondary-2\"\n      />\n    </div>\n  );\n};\n\nexport default function HrmRoutes(props) {\n  const { path } = props.match;\n  const { company } = useContext(SharedDataCtx);\n\n  if (!company) {\n    return <CompanyCreateView {...props} />;\n  }\n\n  return (\n    <AdminView\n      title={<span className=\"d-none d-md-block\">{company.name}</span>}\n      actions={<AdminNavLinks {...props} {...{ company }} />}\n    >\n      <Switch>\n        <AdminRoute\n          path={`${path}:compSlug/employees/`}\n          component={EmployeeRoutes}\n          requiredPerms={['miq_hrm.view_employee']}\n        />\n        <AdminRoute\n          path={`${path}:compSlug/departments/`}\n          component={DepartmentRoutes}\n          requiredPerms={['miq_hrm.view_department']}\n        />\n        <AdminRoute path={path} component={CompanyEditView} requiredPerms={['miq_hrm.change_company']} />\n      </Switch>\n    </AdminView>\n  );\n}\n\n/**\n * COMPANY\n */\n\nconst CompanyCreateView = (props) => {\n  return <AdminView title=\"Add company\"></AdminView>;\n};\n\nconst CompanyEditView = (props) => {\n  const { company } = useContext(SharedDataCtx);\n\n  return (\n    <AdminView>\n      <div className=\"\">\n        <div className=\"\">Segmentation</div>\n        <div className=\"text-muted text-sm\">All Users | % Male/Female</div>\n      </div>\n    </AdminView>\n  );\n};\n"],"sourceRoot":""}