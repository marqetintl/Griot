{"version":3,"sources":["../../../../../packages/miq-hrmjs/src/employee/inputs.jsx","../../../../../packages/miq-hrmjs/src/employee/CreateView.jsx"],"names":["EmployeeFirstnameInput","form","className","Label","value","TextInput","required","name","error","errors","first_name","minLength","EmployeeLastNameInput","last_name","EmployeeEmailInput","props","email","placeholder","type","EmployeeCreateForm","useForm","private_email","context","onSubmit","e","preventDefault","employeeServices","post","values","company","compSlug","then","slug","url","match","replace","history","push","catch","err","handleError","Submit","EmployeeCreateView","params","title"],"mappings":"6RAEO,SAASA,EAAT,GAAqD,IAAnBC,EAAkB,EAAlBA,KAAkB,iBACzD,OACE,sBAAKC,UAAU,yBAAf,UACE,cAAC,IAAKC,MAAN,CAAYC,MAAM,YAAYF,UAAU,iBACxC,cAAC,IAAKG,UAAN,CAAgBC,UAAQ,EAACC,KAAK,aAAaC,MAAOP,EAAKQ,OAAOC,WAAYR,UAAU,YAAYS,UAAW,OAK1G,IAAMC,EAAwB,SAAC,GAAD,IAAGX,EAAH,EAAGA,KAAH,wBACnC,sBAAKC,UAAU,yBAAf,UACE,cAAC,IAAKC,MAAN,CAAYC,MAAM,WAAWF,UAAU,iBACvC,cAAC,IAAKG,UAAN,CAAgBC,UAAQ,EAACC,KAAK,YAAYC,MAAOP,EAAKQ,OAAOI,UAAWX,UAAU,YAAYS,UAAW,QAIhGG,EAAqB,SAAC,GAAD,IAAGb,EAAH,EAAGA,KAASc,EAAZ,wBAChC,cAAC,IAAKV,UAAN,yBACEE,KAAK,gBACLC,MAAOP,EAAKQ,OAAOO,MACnBC,YAAY,sBACRF,GAJN,IAKET,UAAQ,EACRY,KAAK,a,0ICZHC,EAAqB,SAACJ,GACxB,IAAMd,EAAOmB,YAAQ,CAAEV,WAAY,GAAIG,UAAW,GAAIQ,cAAe,KAcrE,OACI,eAAC,IAAD,CAAMC,QAASrB,EAAMsB,SAdJ,SAACC,GAClBA,EAAEC,iBACFC,IACKC,KADL,2BACe1B,EAAK2B,QADpB,IAC4BC,QAASd,EAAMe,YACtCC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACL,GAAKA,EAAL,CAEA,IAAMC,EAAMlB,EAAMmB,MAAMD,IAAIE,QAAQ,MAAOH,GAC3CjB,EAAMqB,QAAQC,KAAKJ,OAEtBK,OAAM,SAACC,GAAD,OAAStC,EAAKuC,YAAYD,GAAK,OAI1C,UACI,cAAC,IAAD,CAA8BtC,SAC9B,cAAC,IAAD,CAA6BA,SAE7B,sBAAKC,UAAU,yBAAf,UACI,cAAC,IAAKC,MAAN,CAAYC,MAAM,QAAQF,UAAU,iBACpC,cAAC,IAAD,CAA0BD,OAAQC,UAAU,iBAGhD,qBAAKA,UAAU,GAAf,SACI,cAAC,IAAKuC,OAAN,CAAarC,MAAM,gBAAgBF,UAAU,kBAM9C,SAASwC,EAAmB3B,GACvC,IAAQe,EAAaf,EAAMmB,MAAMS,OAAzBb,SAER,OACI,cAAC,IAAD,CAAW5B,UAAU,qCAAqC0C,MAAM,kBAAhE,SACI,cAACzB,EAAD,2BAAwBJ,GAAxB,IAA+Be,SAAUA","file":"static/js/15.d206f0b2.chunk.js","sourcesContent":["import Form from '@miq/form';\n\nexport function EmployeeFirstnameInput({ form, ...props }) {\n  return (\n    <div className=\"d-grid grid-md-12 mb-1\">\n      <Form.Label value=\"Firstname\" className=\"span-12 mb-0\" />\n      <Form.TextInput required name=\"first_name\" error={form.errors.first_name} className=\"span-md-6\" minLength={4} />\n    </div>\n  );\n}\n\nexport const EmployeeLastNameInput = ({ form, ...props }) => (\n  <div className=\"d-grid grid-md-12 mb-2\">\n    <Form.Label value=\"Lastname\" className=\"span-12 mb-0\" />\n    <Form.TextInput required name=\"last_name\" error={form.errors.last_name} className=\"span-md-6\" minLength={2} />\n  </div>\n);\n\nexport const EmployeeEmailInput = ({ form, ...props }) => (\n  <Form.TextInput\n    name=\"private_email\"\n    error={form.errors.email}\n    placeholder=\"employee@email.com\"\n    {...props}\n    required\n    type=\"email\"\n  />\n);\n","import { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport Form, { useForm } from \"@miq/form\";\nimport { AdminView } from \"@miq/adminjs\";\n\nimport { employeeServices } from \"./utils\";\nimport { EmployeeFirstnameInput, EmployeeLastNameInput, EmployeeEmailInput } from \"./inputs\";\n\nconst propTypes = {\n    compSlug: PropTypes.string.isRequired,\n};\n\nconst EmployeeCreateForm = (props) => {\n    const form = useForm({ first_name: \"\", last_name: \"\", private_email: \"\" });\n    const saveEmployee = (e) => {\n        e.preventDefault();\n        employeeServices\n            .post({ ...form.values, company: props.compSlug })\n            .then(({ slug }) => {\n                if (!slug) return;\n\n                const url = props.match.url.replace(\"new\", slug);\n                props.history.push(url);\n            })\n            .catch((err) => form.handleError(err, true));\n    };\n\n    return (\n        <Form context={form} onSubmit={saveEmployee}>\n            <EmployeeFirstnameInput {...{ form }} />\n            <EmployeeLastNameInput {...{ form }} />\n\n            <div className=\"d-grid grid-md-12 mb-2\">\n                <Form.Label value=\"Email\" className=\"span-12 mb-0\" />\n                <EmployeeEmailInput {...{ form }} className=\"span-md-6\" />\n            </div>\n\n            <div className=\"\">\n                <Form.Submit value=\"Save employee\" className=\"miq-btn\" />\n            </div>\n        </Form>\n    );\n};\n\nexport default function EmployeeCreateView(props) {\n    const { compSlug } = props.match.params;\n\n    return (\n        <AdminView className=\"employee-create-view miq-container\" title=\"Add an employee\">\n            <EmployeeCreateForm {...props} compSlug={compSlug} />\n        </AdminView>\n    );\n}\n\nEmployeeCreateView.propTypes = propTypes;\n"],"sourceRoot":""}