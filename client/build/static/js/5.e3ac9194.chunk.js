(this["webpackJsonp@grio/client"]=this["webpackJsonp@grio/client"]||[]).push([[5],{108:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return N}));var n=c(11),s=c(2),a=c(7),r=c(5),i=c(3),u=c(4),l=c(1),d=c(367),o=(c(163),c(0)),j=["src","children"],b=Object(s.createContext)();function m(e){var t=e.src,c=e.children,a=(Object(u.a)(e,j),Object(s.useState)(null)),r=Object(n.a)(a,2),i=r[0],l=r[1],d=Object(s.useState)(1),m=Object(n.a)(d,2),f=m[0],O=m[1],x=Object(s.useMemo)((function(){function e(e){O((function(t){return t+e}))}return{src:t,numPages:i,pageNumber:f,previousPage:function(){e(-1)},nextPage:function(){e(1)},setNumPages:l,setPageNumber:O}}),[t,i,f]);return Object(o.jsx)(b.Provider,{value:x,children:c})}d.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(d.c.version,"/pdf.worker.js");m.Previous=function(e){var t=Object(s.useContext)(b),c=t.pageNumber,n=t.previousPage;return Object(o.jsx)(r.d,{id:e.id,className:e.className,disabled:c<=1,onClick:n,children:"Previous"})},m.Next=function(e){var t=Object(s.useContext)(b),c=t.pageNumber,n=t.numPages,a=t.nextPage;return Object(o.jsx)(r.d,{id:e.id,className:e.className,disabled:c>=n,onClick:a,children:"Next"})},m.Renderer=function(e){var t=Object(s.useContext)(b),c=t.src,n=t.pageNumber,a=t.setNumPages,r=t.setPageNumber;if(!c)return null;return c=Object(i.i)(c),Object(o.jsx)("div",{id:e.id,className:Object(i.h)(["miq-pdf",e.className]),children:Object(o.jsx)(d.a,{file:c,onLoadSuccess:function(e){var t=e.numPages;a(t),r(n)},children:Object(o.jsx)(d.b,{pageNumber:n})})})};c(141);var f=["items"],O=function(e){switch(e.ext){case".jpg":case".jpeg":case".png":return Object(o.jsx)(r.l,Object(l.a)({},e));default:var t=r.j.getFileIcon(e.ext);return Object(o.jsx)(t,{className:"icon mb-1"})}};function x(e){var t=e.items,c=void 0===t?[]:t;Object(u.a)(e,f);return Object(o.jsx)("div",{className:"docufile-grid d-grid grid-2 grid-sm-3 grid-md-4 grid-xl-5",children:c.map((function(e){return Object(o.jsxs)("a",{href:Object(i.i)(e.src),className:"docufile-btn",target:"_blank",children:[O(e),Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsx)("span",{className:"label d-block",children:e.name_truncated}),Object(o.jsx)("span",{className:"size d-block",children:e.size})]})]},e.slug)}))})}var g=c(21),h=c(119);c(164);function N(e){var t=e.match.params.docSlug,c=Object(s.useState)(null),u=Object(n.a)(c,2),l=u[0],d=u[1],j=Object(s.useState)(null),b=Object(n.a)(j,2)[1];return Object(s.useEffect)((function(){g.a.detail(t).then((function(e){d(e)})).catch((function(e){return b("Error")}))}),[]),l?Object(o.jsx)(a.g,{id:"DocumentReadOnlyView",className:"document-readonly-view",title:Object(o.jsx)(h.a,{}),actions:Object(o.jsx)(r.b,{users:Object(g.e)(l),count:l.users_data.length}),children:Object(o.jsxs)("div",{className:"miq-container-fluid",children:[Object(o.jsx)("div",{className:"text-md",children:l.title}),Object(o.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(o.jsxs)("div",{children:[Object(o.jsx)("span",{className:"fw-bold me-1",children:"Reference:"}),Object(o.jsx)("span",{className:"reference",children:l.reference})]}),Object(o.jsx)("div",{className:"dt-created text-muted fs-sm",children:Object(i.g)(l.created,{month:"long",day:"numeric",year:"numeric"},"fr")})]}),Object(o.jsx)("div",{className:"description mb-4",children:l.description}),Object(o.jsx)(x,{items:l.files_data})]})}):null}},119:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));c(2);var n=c(7),s=c(5),a=c(21),r=c(0),i=function(e){return Object(r.jsx)(n.d,{to:e.to||a.b.staff_path,Icon:s.j.ArrowLeft,title:"Retourner aux documents",className:e.className})}},141:function(e,t,c){},144:function(e,t){},157:function(e,t){},158:function(e,t){},159:function(e,t){},160:function(e,t){},161:function(e,t){},163:function(e,t,c){},164:function(e,t,c){}}]);
//# sourceMappingURL=5.e3ac9194.chunk.js.map