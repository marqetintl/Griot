{"version":3,"sources":["../../../../../packages/miq-hrmjs/src/employee/UpdateView.jsx"],"names":["EmployeeUpdateView","props","useState","user","data","setData","compSlug","match","params","empSlug","useEffect","employeeServices","get","company","then","empData","catch","err","console","log","className","title","name","img_data","style","height","width","position","first_name","last_name","gender_label","username","number","email","Departement","isEdit","setEdit","department_data","onClick"],"mappings":"uPAWe,SAASA,EAAmBC,GACvC,MAAwBC,mBAAS,CAAEC,KAAM,KAAzC,mBAAOC,EAAP,KAAaC,EAAb,KACQC,EAAaL,EAAMM,MAAMC,OAAzBF,SACAG,EAAYR,EAAMM,MAAMC,OAAxBC,QAeR,OAbAC,qBAAU,WACDD,GAAYH,GAEjBK,IACKC,IAAIH,EAAS,CAAEI,QAASP,IACxBQ,MAAK,SAACC,GACHV,EAAQU,MAEXC,OAAM,SAACC,SACb,CAACR,EAASH,IAEbY,QAAQC,IAAIf,GAGR,eAAC,IAAD,CAAWgB,UAAU,uBAAuBC,MAAO,+CAAQjB,EAAKD,KAAKmB,QAArE,UACI,sBAAKF,UAAU,gDAAf,UACI,qBAAKA,UAAU,gCAAf,SACI,cAAC,IAAD,2BAAYhB,EAAKD,KAAKoB,UAAtB,IAAgCC,MAAO,CAAEC,OAAQ,IAAKC,MAAO,UAGjE,sBAAKN,UAAU,YAAf,UACI,sBAAKA,UAAU,sEAAf,UACI,qBAAKA,UAAU,GAAf,kBACA,qBAAKA,UAAU,GAAf,SAAmBhB,EAAKuB,cAE3BvB,EAAKD,MACF,qCACI,sBAAKiB,UAAU,sEAAf,UACI,qBAAKA,UAAU,GAAf,uBACA,qBAAKA,UAAU,GAAf,SAAmBhB,EAAKD,KAAKyB,gBAEjC,sBAAKR,UAAU,sEAAf,UACI,qBAAKA,UAAU,GAAf,sBACA,qBAAKA,UAAU,GAAf,SAAmBhB,EAAKD,KAAK0B,eAEjC,sBAAKT,UAAU,wDAAf,UACI,qBAAKA,UAAU,GAAf,kBACA,qBAAKA,UAAU,GAAf,SAAmBhB,EAAKD,KAAK2B,2BAOjD,0BAASV,UAAU,WAAnB,UACI,0CACA,sBAAKA,UAAU,sEAAf,UACI,qBAAKA,UAAU,GAAf,sBACA,qBAAKA,UAAU,GAAf,SAAmBhB,EAAKD,KAAK4B,cAEjC,sBAAKX,UAAU,sEAAf,UACI,qBAAKA,UAAU,GAAf,0BACA,qBAAKA,UAAU,GAAf,SAAmBhB,EAAKD,KAAK6B,QAAU,oBAE3C,sBAAKZ,UAAU,wDAAf,UACI,qBAAKA,UAAU,GAAf,mBACA,qBAAKA,UAAU,GAAf,SAAmBhB,EAAKD,KAAK8B,OAAS,yBAI9C,0BAASb,UAAU,WAAnB,UACI,6CACA,cAACc,EAAD,CAAa9B,KAAMA,OAGvB,qBAAKgB,UAAU,QAO3B,IAAMc,EAAc,SAAC,GAA6B,IAAD,IAA1B9B,YAA0B,MAAnB,GAAmB,EAC7C,GAD6C,iBACnBF,oBAAS,IAAnC,mBAAOiC,EAAP,KAAeC,EAAf,KAEA,OAAKhC,EAAKiC,gBAELF,EAUD,cAAC,IAAD,CAAMf,UAAU,GAAhB,SACI,wBAAQkB,QAAS,kBAAMF,GAAQ,IAA/B,uBATA,sBAAKhB,UAAU,MAAf,UACI,+BAAOhB,EAAKiC,gBAAgBf,OAC5B,wBAAQgB,QAAS,kBAAMF,GAAQ,IAA/B,uBANsB","file":"static/js/18.6fda1f40.chunk.js","sourcesContent":["import { useEffect, useState } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { Avatar } from \"@miq/components\";\nimport Form, { useForm } from \"@miq/form\";\nimport { AdminView } from \"@miq/adminjs\";\n\nimport { employeeServices } from \"./utils\";\n\nconst propTypes = {};\n\nexport default function EmployeeUpdateView(props) {\n    const [data, setData] = useState({ user: {} });\n    const { compSlug } = props.match.params;\n    const { empSlug } = props.match.params;\n\n    useEffect(() => {\n        if (!empSlug || !compSlug) return;\n\n        employeeServices\n            .get(empSlug, { company: compSlug })\n            .then((empData) => {\n                setData(empData);\n            })\n            .catch((err) => {});\n    }, [empSlug, compSlug]);\n\n    console.log(data);\n\n    return (\n        <AdminView className=\"employee-update-view\" title={<>{`< ${data.user.name}`}</>}>\n            <div className=\"d-grid grid-md-3 justify-content-between mb-3\">\n                <div className=\"d-flex justify-content-center\">\n                    <Avatar {...data.user.img_data} style={{ height: 100, width: 100 }} />\n                </div>\n\n                <div className=\"span-md-2\">\n                    <div className=\"d-flex align-items-center justify-content-between border-bottom p-1\">\n                        <div className=\"\">Role</div>\n                        <div className=\"\">{data.position}</div>\n                    </div>\n                    {data.user && (\n                        <>\n                            <div className=\"d-flex align-items-center justify-content-between border-bottom p-1\">\n                                <div className=\"\">Firstname</div>\n                                <div className=\"\">{data.user.first_name}</div>\n                            </div>\n                            <div className=\"d-flex align-items-center justify-content-between border-bottom p-1\">\n                                <div className=\"\">Lastname</div>\n                                <div className=\"\">{data.user.last_name}</div>\n                            </div>\n                            <div className=\"d-flex align-items-center justify-content-between p-1\">\n                                <div className=\"\">Sexe</div>\n                                <div className=\"\">{data.user.gender_label}</div>\n                            </div>\n                        </>\n                    )}\n                </div>\n            </div>\n\n            <section className=\"mb-2 p-1\">\n                <div>Contact</div>\n                <div className=\"d-flex align-items-center justify-content-between border-bottom p-1\">\n                    <div className=\"\">Username</div>\n                    <div className=\"\">{data.user.username}</div>\n                </div>\n                <div className=\"d-flex align-items-center justify-content-between border-bottom p-1\">\n                    <div className=\"\">Phone number</div>\n                    <div className=\"\">{data.user.number || \"646 322 2795\"}</div>\n                </div>\n                <div className=\"d-flex align-items-center justify-content-between p-1\">\n                    <div className=\"\">Email</div>\n                    <div className=\"\">{data.user.email || \"user@email.com\"}</div>\n                </div>\n            </section>\n\n            <section className=\"mb-2 p-1\">\n                <div>Department</div>\n                <Departement data={data} />\n            </section>\n\n            <div className=\"\"></div>\n        </AdminView>\n    );\n}\n\nEmployeeUpdateView.propTypes = propTypes;\n\nconst Departement = ({ data = {}, ...props }) => {\n    const [isEdit, setEdit] = useState(false);\n\n    if (!data.department_data) return null;\n\n    if (!isEdit) {\n        return (\n            <div className=\"p-1\">\n                <span>{data.department_data.name}</span>\n                <button onClick={() => setEdit(true)}>Update</button>\n            </div>\n        );\n    }\n\n    return (\n        <Form className=\"\">\n            <button onClick={() => setEdit(false)}>Annuler</button>\n        </Form>\n    );\n};\n"],"sourceRoot":""}