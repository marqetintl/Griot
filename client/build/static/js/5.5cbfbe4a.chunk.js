(this["webpackJsonp@grio/client"]=this["webpackJsonp@grio/client"]||[]).push([[5],{124:function(e,t,c){},127:function(e,t){},340:function(e,t){},341:function(e,t){},342:function(e,t){},343:function(e,t){},344:function(e,t){},346:function(e,t,c){},347:function(e,t,c){},353:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return v}));var n=c(4),r=c(16),s=c(5),a=c(2),i=c(3),u=c(1),o=c(9),l=c(351),d=(c(346),c(0)),j=["src","children"],b=Object(a.createContext)();function f(e){var t=e.src,c=e.children,s=(Object(n.a)(e,j),Object(a.useState)(null)),i=Object(r.a)(s,2),u=i[0],o=i[1],l=Object(a.useState)(1),f=Object(r.a)(l,2),m=f[0],h=f[1],O=Object(a.useMemo)((function(){function e(e){h((function(t){return t+e}))}return{src:t,numPages:u,pageNumber:m,previousPage:function(){e(-1)},nextPage:function(){e(1)},setNumPages:o,setPageNumber:h}}),[t,u,m]);return Object(d.jsx)(b.Provider,{value:O,children:c})}l.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(l.c.version,"/pdf.worker.js");f.Previous=function(e){var t=Object(a.useContext)(b),c=t.pageNumber,n=t.previousPage;return Object(d.jsx)(o.c,{id:e.id,className:e.className,disabled:c<=1,onClick:n,children:"Previous"})},f.Next=function(e){var t=Object(a.useContext)(b),c=t.pageNumber,n=t.numPages,r=t.nextPage;return Object(d.jsx)(o.c,{id:e.id,className:e.className,disabled:c>=n,onClick:r,children:"Next"})},f.Renderer=function(e){var t=Object(a.useContext)(b),c=t.src,n=t.pageNumber,r=t.setNumPages,s=t.setPageNumber;if(!c)return null;return c=Object(i.g)(c),Object(d.jsx)("div",{id:e.id,className:Object(i.f)(["miq-pdf",e.className]),children:Object(d.jsx)(l.a,{file:c,onLoadSuccess:function(e){var t=e.numPages;r(t),s(n)},children:Object(d.jsx)(l.b,{pageNumber:n})})})};c(124);var m=["items"],h=function(e){switch(e.ext){case".jpg":case".jpeg":case".png":return Object(d.jsx)(o.k,Object(u.a)({},e));default:var t=o.i.getFileIcon(e.ext);return Object(d.jsx)(t,{className:"icon mb-1"})}};function O(e){var t=e.items,c=void 0===t?[]:t;Object(n.a)(e,m);return Object(d.jsx)("div",{className:"docufile-grid d-grid grid-2 grid-sm-3 grid-md-4 grid-xl-5",children:c.map((function(e){return Object(d.jsxs)("a",{href:Object(i.g)(e.src),className:"docufile-btn",target:"_blank",children:[h(e),Object(d.jsxs)("div",{className:"text-center",children:[Object(d.jsx)("span",{className:"label d-block",children:e.name_truncated}),Object(d.jsx)("span",{className:"size d-block",children:e.size})]})]},e.slug)}))})}var p=c(95),g=(c(347),["user"]);function v(e){var t=e.match.params.docSlug,c=Object(a.useState)(null),n=Object(r.a)(c,2),u=n[0],o=n[1],l=Object(a.useState)(null),j=Object(r.a)(l,2),b=(j[0],j[1]);return Object(a.useEffect)((function(){p.a.get(t).then((function(e){o(e)})).catch((function(e){return b("Error")}))}),[]),u?Object(d.jsx)(s.g,{id:"DocumentReadOnlyView",className:"document-readonly-view",title:u.title,actions:Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("div",{className:"miq-user-avatar-group",children:[Object(d.jsx)("div",{className:"miq-user-avatar count",children:"+6"}),u.users_data.map((function(e){return Object(d.jsx)(x,{user:e},e.slug)}))]})}),children:Object(d.jsxs)("div",{className:"miq-container-fluid",children:[Object(d.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(d.jsxs)("div",{className:"reference",children:["Reference ",Object(d.jsx)("span",{style:{fontWeight:"600"},children:u.reference})]}),Object(d.jsx)("div",{className:"dt-created text-muted fs-sm",children:Object(i.e)(u.created,{month:"long",day:"numeric",year:"numeric"},"fr")})]}),Object(d.jsx)("div",{className:"description mb-4",children:u.description}),Object(d.jsx)(O,{items:u.files_data})]})}):null}var x=function(e){var t=e.user;Object(n.a)(e,g);return t?Object(d.jsx)("div",{className:"miq-user-avatar",children:t.initials}):null}},95:function(e,t,c){"use strict";c.d(t,"b",(function(){return s})),c.d(t,"c",(function(){return a})),c.d(t,"a",(function(){return i}));c(1);var n=c(5),r=c(3),s=function(e){return Object(r.e)(e,{month:"numeric",day:"numeric",year:"numeric"})},a=function(e,t){var c="".concat(t).concat(e.slug,"/");return e.is_read_only?"".concat(c,"view/"):c},i={path:"documents/",list:function(e){return Object(r.h)(n.a,this.path,e)},listPage:function(e){return Object(r.h)(n.a,e)},get:function(e,t){return Object(r.h)(n.a,"".concat(this.path).concat(e,"/"),t)},post:function(e){return n.k.post("".concat(this.path),e)},patch:function(e,t,c){return n.k.patch("".concat(this.path).concat(e,"/"),t,c)},archive:function(e){return n.k.get("".concat(this.path).concat(e,"/archive/"))},delete:function(e){return n.k.delete("".concat(this.path).concat(e,"/"))},patchFile:function(e,t){return Object.keys(t).includes("action")?n.k.post("".concat(this.path).concat(e,"/files/"),t):Promise.reject("Action required")},patchUserPermission:function(e,t,c){return n.k.post("".concat(this.path).concat(e,"/permission/"),{user_slug:t,permission:c})},getStaffList:function(e){return n.k.get("search-staff/",{q:e})},patchUser:function(e,t){return Object.keys(t).includes("action")?n.k.post("".concat(this.path).concat(e,"/users/"),t):Promise.reject("Action required")}}}}]);
//# sourceMappingURL=5.5cbfbe4a.chunk.js.map