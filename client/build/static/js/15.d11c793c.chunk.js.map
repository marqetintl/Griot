{"version":3,"sources":["../../../../../packages/miq-hrmjs/src/department/utils.jsx","../../../../../packages/miq-hrmjs/src/department/ListView.jsx","../../../../../packages/miq-hrmjs/src/department/index.jsx"],"names":["departmentServices","path","list","params","getService","API","this","listPage","url","get","depSlug","post","values","services","patch","oldValues","delete","DepartmentListView","props","compSlug","match","useState","results","data","setData","useEffect","company","then","catch","err","className","Section","title","items","renderItem","department","user","addForwardSlash","to","slug","name","pagination","count","next","previous","onPreviousClick","onNextClick","DepartmentUpdateView","lazy","DepartmentRoutes","fallback","component","requiredPerms"],"mappings":"qHAAA,oDAGaA,EAAqB,CAC9BC,KAAM,eACNC,KAF8B,SAEzBC,GACD,OAAOC,YAAWC,IAAKC,KAAKL,KAAME,IAEtCI,SAL8B,SAKrBC,GACL,OAAOJ,YAAWC,IAAKG,IAE3BC,IAR8B,SAQ1BC,EAASP,GACT,OAAOC,YAAWC,IAAD,UAASC,KAAKL,MAAd,OAAqBS,EAArB,KAAiCP,IAEtDQ,KAX8B,SAWzBC,GACD,OAAOC,IAASF,KAAT,UAAiBL,KAAKL,MAAQW,IAEzCE,MAd8B,SAcxBJ,EAASE,EAAQG,GACnB,OAAOF,IAASC,MAAT,UAAkBR,KAAKL,MAAvB,OAA8BS,EAA9B,KAA0CE,EAAQG,IAE7DC,OAjB8B,SAiBvBN,GACH,OAAOG,IAASG,OAAT,UAAmBV,KAAKL,MAAxB,OAA+BS,EAA/B,S,uJCTA,SAASO,EAAmBC,GACzC,IAAQC,EAAaD,EAAME,MAAMjB,OAAzBgB,SACR,EAAwBE,mBAAS,CAAEC,QAAS,KAA5C,mBAAOC,EAAP,KAAaC,EAAb,KAYA,OAVAC,qBAAU,WACRzB,IACGE,KAAK,CAAEwB,QAASP,IAChBQ,MAAK,SAACJ,GACLC,EAAQD,MAGTK,OAAM,SAACC,SACT,CAACV,IAGF,cAAC,IAAD,CAAWW,UAAU,uBAArB,SACE,cAAC,IAAUC,QAAX,CAAmBC,MAAM,sBAAzB,SACE,cAAC,IAAD,CACEC,MAAOV,EAAKD,QACZY,WAAY,WAAgC,IAA/BC,EAA8B,uDAAjB,CAAEC,KAAM,IAC1B5B,EAAM6B,YAAgBnB,EAAME,MAAMZ,KAExC,OACE,cAAC,IAAD,CAA+B8B,GAAE,UAAK9B,GAAL,OAAW2B,EAAWI,KAAtB,KAAjC,SACE,qBAAKT,UAAU,4BAAf,SAA4CK,EAAWK,QAD3CL,EAAWI,OAK7BE,WAAY,CACVC,MAAOnB,EAAKmB,MACZC,KAAMpB,EAAKoB,KACXC,SAAUrB,EAAKqB,SACfC,gBAAiB,aACjBC,YAAa,oBCrCzB,IAAMC,EAAuBC,gBAAK,kBAAM,kCAEzB,SAASC,EAAiB/B,GACrC,IAAQjB,EAASiB,EAAME,MAAfnB,KAER,OACI,cAAC,WAAD,CAAUiD,SAAU,cAAC,IAAD,IAApB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CACIjD,KAAI,UAAKA,EAAL,aACJkD,UAAWJ,EACXK,cAAe,CAAC,+BAEpB,cAAC,IAAD,CAAYnD,KAAMA,EAAMkD,UAAWlC,EAAoBmC,cAAe,CAAC","file":"static/js/15.d11c793c.chunk.js","sourcesContent":["import { API, services } from \"@miq/adminjs\";\nimport { getService } from \"@miq/utils\";\n\nexport const departmentServices = {\n    path: \"departments/\",\n    list(params) {\n        return getService(API, this.path, params);\n    },\n    listPage(url) {\n        return getService(API, url);\n    },\n    get(depSlug, params) {\n        return getService(API, `${this.path}${depSlug}/`, params);\n    },\n    post(values) {\n        return services.post(`${this.path}`, values);\n    },\n    patch(depSlug, values, oldValues) {\n        return services.patch(`${this.path}${depSlug}/`, values, oldValues);\n    },\n    delete(depSlug) {\n        return services.delete(`${this.path}${depSlug}/`);\n    },\n};\n","import { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { NavLink } from 'react-router-dom';\n\nimport { AdminView } from '@miq/adminjs';\nimport { addForwardSlash } from '@miq/utils';\nimport { Avatar, ItemList } from '@miq/components';\n\nimport { departmentServices } from './utils';\n\nconst propTypes = {};\n\nexport default function DepartmentListView(props) {\n  const { compSlug } = props.match.params;\n  const [data, setData] = useState({ results: [] });\n\n  useEffect(() => {\n    departmentServices\n      .list({ company: compSlug })\n      .then((data) => {\n        setData(data);\n        // console.log(data);\n      })\n      .catch((err) => {});\n  }, [compSlug]);\n\n  return (\n    <AdminView className=\"department-list-view\">\n      <AdminView.Section title=\"Company departments\">\n        <ItemList\n          items={data.results}\n          renderItem={(department = { user: {} }) => {\n            const url = addForwardSlash(props.match.url);\n\n            return (\n              <NavLink key={department.slug} to={`${url}${department.slug}/`}>\n                <div className=\"department-list-item mb-1\">{department.name}</div>\n              </NavLink>\n            );\n          }}\n          pagination={{\n            count: data.count,\n            next: data.next,\n            previous: data.previous,\n            onPreviousClick: () => {},\n            onNextClick: () => {},\n          }}\n        />\n      </AdminView.Section>\n    </AdminView>\n  );\n}\n\nDepartmentListView.propTypes = propTypes;\n","import { AdminRoute } from \"@miq/adminjs\";\nimport { Suspense, lazy } from \"react\";\nimport { Switch } from \"react-router-dom\";\n\nimport { Loading } from \"@miq/components\";\n\nimport DepartmentListView from \"./ListView\";\n\nconst DepartmentUpdateView = lazy(() => import(\"./UpdateView\"));\n\nexport default function DepartmentRoutes(props) {\n    const { path } = props.match;\n\n    return (\n        <Suspense fallback={<Loading />}>\n            <Switch>\n                <AdminRoute\n                    path={`${path}:depSlug/`}\n                    component={DepartmentUpdateView}\n                    requiredPerms={[\"miq_hrm.change_department\"]}\n                />\n                <AdminRoute path={path} component={DepartmentListView} requiredPerms={[\"miq_hrm.view_department\"]} />\n            </Switch>\n        </Suspense>\n    );\n}\n"],"sourceRoot":""}