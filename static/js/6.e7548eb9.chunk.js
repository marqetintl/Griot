(this["webpackJsonp@grio/client"]=this["webpackJsonp@grio/client"]||[]).push([[6],{321:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return d}));var n=c(4),s=c(19),a=c(5),i=c(2),r=c(97),u=c(3),o=c(91),l=c(0),j=["user"];function d(e){var t=e.match.params.docSlug,c=Object(i.useState)(null),n=Object(s.a)(c,2),j=n[0],d=n[1],f=Object(i.useState)(null),m=Object(s.a)(f,2),b=(m[0],m[1]);return Object(i.useEffect)((function(){o.a.get(t).then((function(e){d(e)})).catch((function(e){return b("Error")}))}),[]),j?Object(l.jsxs)(a.f,{id:"DocumentReadOnlyView",className:"document-readonly-view",title:j.title,actions:Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"miq-user-avatar-group",children:[Object(l.jsx)("div",{className:"miq-user-avatar count",children:"+6"}),j.users_data.map((function(e){return Object(l.jsx)(h,{user:e},e.slug)}))]})}),children:[Object(l.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(l.jsxs)("div",{className:"",children:["Reference ",Object(l.jsx)("span",{style:{fontWeight:"600"},children:j.reference})]}),Object(l.jsx)("div",{className:"text-muted fs-sm",children:Object(u.e)(j.created,{month:"long",day:"numeric",year:"numeric"},"fr")})]}),Object(l.jsx)("div",{className:"mb-4",children:j.description}),Object(l.jsx)(r.a,{items:j.files_data}),Object(l.jsx)("div",{className:"",children:"Voir les commentaires"})]}):null}var h=function(e){var t=e.user;Object(n.a)(e,j);return t?Object(l.jsx)("div",{className:"miq-user-avatar",children:t.initials}):null}},91:function(e,t,c){"use strict";c.d(t,"a",(function(){return a}));var n=c(5),s=c(3),a={path:"documents/",list:function(e){return Object(s.h)(n.a,this.path,e)},listPage:function(e){return Object(s.h)(n.a,e)},get:function(e,t){return Object(s.h)(n.a,"".concat(this.path).concat(e,"/"),t)},post:function(e){return n.j.post("".concat(this.path),e)},patch:function(e,t,c){return n.j.patch("".concat(this.path).concat(e,"/"),t,c)},archive:function(e){return n.j.get("".concat(this.path).concat(e,"/archive/"))},delete:function(e){return n.j.delete("".concat(this.path).concat(e,"/"))},postFile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:isRequired("file"),t=e.name;if(t.length>=100)return Promise.reject("File name is too long");var c=new FormData;return c.append("src",e,t),n.j.post("docufiles/",c,{headers:{"content-type":"multipart/form-data"}})},patchFile:function(e,t){return Object.keys(t).includes("action")?n.j.post("".concat(this.path).concat(e,"/files/"),t):Promise.reject("Action required")},patchUserPermission:function(e,t,c){return n.j.post("".concat(this.path).concat(e,"/permission/"),{user_slug:t,permission:c})},getStaffList:function(e){return n.j.get("search-staff/",{q:e})},patchUser:function(e,t){return Object.keys(t).includes("action")?n.j.post("".concat(this.path).concat(e,"/users/"),t):Promise.reject("Action required")}}},97:function(e,t,c){"use strict";c.d(t,"a",(function(){return o}));var n=c(4),s=c(1),a=c(18),i=(c(98),c(0)),r=["items"],u=function(e){switch(e.ext){case".jpg":case".jpeg":case".png":return Object(i.jsx)(a.h,Object(s.a)({},e));default:var t=a.f.getFileIcon(e.ext);return Object(i.jsx)(t,{className:"icon mb-1"})}};function o(e){var t=e.items,c=void 0===t?[]:t;Object(n.a)(e,r);return Object(i.jsx)("div",{className:"docufile-grid",children:c.map((function(e){return Object(i.jsxs)(a.a,{title:e.name,className:"docufile-btn",children:[u(e),Object(i.jsxs)("div",{className:"text-center",children:[Object(i.jsx)("span",{className:"label d-block",children:e.name_truncated}),Object(i.jsx)("span",{className:"size d-block",children:e.size})]})]},e.slug)}))})}},98:function(e,t,c){}}]);
//# sourceMappingURL=6.e7548eb9.chunk.js.map