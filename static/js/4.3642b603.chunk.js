(this["webpackJsonp@grio/client"]=this["webpackJsonp@grio/client"]||[]).push([[4],{333:function(t,e){},341:function(t,e){},342:function(t,e){},343:function(t,e){},344:function(t,e){},345:function(t,e){},353:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return k}));var n=c(2),o=c(6),i=c(21),r=c(7),s=c(24),a=c.n(s),u=c(18),l=c(347),j=c(19),d=c(17),f=c(4),b=c(1),O=c(56),m=c(15),p=c(350),h=c(0);function x(t){var e=t.src;if(!e)return null;console.log(e),p.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(p.c.version,"/pdf.worker.js");var c=Object(b.useState)(null),n=Object(m.a)(c,2),o=n[0],i=n[1],r=Object(b.useState)(1),s=Object(m.a)(r,2),a=s[0],u=s[1];function l(t){u((function(e){return e+t}))}return Object(h.jsxs)("div",{children:[Object(h.jsx)(p.a,{file:e,onLoadSuccess:function(t){var e=t.numPages;i(e),u(a)},children:Object(h.jsx)(p.b,{pageNumber:a})}),Object(h.jsxs)("div",{children:[Object(h.jsx)("button",{type:"button",disabled:a<=1,onClick:function(){l(-1)},className:"Pre",children:"Previous"}),Object(h.jsx)("button",{type:"button",disabled:a>=o,onClick:function(){l(1)},children:"Next"})]})]})}var v=["items"],g=function(t){var e=t.items,c=void 0===e?[]:e;Object(o.a)(t,v);return Object(h.jsx)("div",{className:"",children:c.map((function(t){return Object(h.jsx)(i.b,{to:"".concat(t.slug,"/"),children:Object(h.jsxs)("div",{style:{marginBottom:".5rem"},children:[Object(h.jsx)("div",{children:t.title||t.name}),Object(h.jsx)("div",{children:Object(f.d)(t.created,{month:"long",day:"numeric",year:"numeric"},"fr")})]})},t.slug)}))})};function k(t){var e=t.match.path;return Object(h.jsxs)(r.d,{children:[Object(h.jsx)(r.b,{path:"".concat(e,":docSlug/"),component:y}),Object(h.jsx)(r.b,{path:"".concat(e),component:w})]})}var y=function(t){var e=t.match.params.docSlug;Object(b.useEffect)((function(){O.a.get(e)}),[e]);var c=Object(u.c)((function(t){return t.docs}));if(!c)return null;var n=c.results.find((function(t){return t.slug===e}));return n?Object(h.jsx)("div",{children:Object(h.jsx)(x,{src:n.src})}):null},N=function(t){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(d.a,{label:"Ajouter",Icon:l.a,onClick:t.onAddClick})})},w=function(t){Object(b.useEffect)((function(){O.a.list()}),[]);var e=Object(u.c)((function(t){return t.docs})),c=e.results,o=e.next,i=Object(b.createRef)(),r=a.a.createPortal(Object(h.jsx)("input",{type:"file",name:"files",ref:function(t){return i=t},onChange:function(t){console.log(t.target.files),Array.from(t.target.files).forEach((function(t){O.a.post(t).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}))},style:{display:"none"},accept:"image/*,.pdf,.md,.doc,.docx,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"}),document.body);t.id,Object(f.e)(["ImageUploadButton",t.className]);return Object(h.jsxs)(j.a.List,{title:"Archives",actions:Object(h.jsx)(N,Object(n.a)(Object(n.a)({},t),{},{onAddClick:function(){return i.click()}})),children:[Object(h.jsx)("div",{className:"",children:Object(h.jsx)(g,{items:c})}),o&&Object(h.jsx)("div",{className:"",children:"next"}),r]})}}}]);
//# sourceMappingURL=4.3642b603.chunk.js.map