(this["webpackJsonp@grio/client"]=this["webpackJsonp@grio/client"]||[]).push([[11],{321:function(t,e,c){"use strict";c.r(e),c.d(e,"default",(function(){return b}));var n=c(2),a=c(15),r=c(3),s=c(20),i=c(4),o=c(7),u=c(19),d=c(1),l=c(88),h=c(0),j=["data"],f=function(t){var e=t.data,c=void 0===e?{}:e,n=Object(r.a)(t,j);switch(n.status){case"loading":return Object(h.jsx)("div",{className:"",children:"Loading ..."});case"done":return Object(h.jsx)(u.h,{headers:["","Title","Reference","Created by","Created"],children:c.results.map((function(t){var e="".concat(n.match.path).concat(t.slug,"/");return"ARCHIVED"===t.status&&(e="".concat(e,"view/")),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{}),Object(h.jsx)("td",{children:Object(h.jsx)(s.b,{to:e,children:Object(h.jsx)("div",{className:"",children:t.title})})}),Object(h.jsx)("td",{children:t.reference}),Object(h.jsx)("td",{children:t.uploaded_by.name}),Object(h.jsx)("td",{children:Object(i.d)(t.created,{month:"long",day:"numeric",year:"numeric"},"fr")})]},t.slug)}))});case"error":default:return null}};function b(t){var e=Object(d.useState)("loading"),c=Object(a.a)(e,2),r=c[0],s=c[1],i=Object(d.useState)({results:[]}),u=Object(a.a)(i,2),j=u[0],b=u[1];Object(d.useEffect)((function(){l.a.list().then((function(t){t?(b(t),s("done")):s("empty")})).catch((function(t){s("error")}))}),[]);var p=new URLSearchParams(t.location.search).get("q")||"";return Object(h.jsxs)(o.f,{id:"DocumentRoutes",title:"Documents",children:[Object(h.jsxs)("div",{className:"",children:[Object(h.jsx)("div",{className:"",children:Object(h.jsx)("input",{type:"text",name:"q",value:p||"",className:"miq-input"})}),"Search | Filter: All/Me/To me |"]}),Object(h.jsx)(f,Object(n.a)(Object(n.a)({},t),{},{data:j,status:r}))]})}},88:function(t,e,c){"use strict";c.d(e,"a",(function(){return r}));var n=c(7),a=c(4),r={path:"documents/",list:function(t){return Object(a.g)(n.a,this.path,t)},get:function(t,e){return Object(a.g)(n.a,"".concat(this.path).concat(t,"/"),e)},patch:function(t,e,c){return n.h.patch("".concat(this.path).concat(t,"/"),e,c)},delete:function(t){return n.h.delete("".concat(this.path).concat(t,"/"))},postFile:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:isRequired("file"),e=t.name;if(e.length>=100)return Promise.reject("File name is too long");var c=new FormData;return c.append("src",t,e),n.h.post("docufiles/",c,{headers:{"content-type":"multipart/form-data"}})},getStaffList:function(t){return n.h.get("search-staff/",{q:t})},patchUser:function(t,e){return Object.keys(e).includes("action")?n.h.post("".concat(this.path).concat(t,"/users/"),e):Promise.reject("Action required")},patchFile:function(t,e){return Object.keys(e).includes("action")?n.h.post("".concat(this.path).concat(t,"/files/"),e):Promise.reject("Action required")}}}}]);
//# sourceMappingURL=11.14eef8f9.chunk.js.map